{"version":3,"sources":["pages/Home.js","util/constants.js","components/CategoryFilter.js","components/ItemCard.js","components/ItemsContainer.js","components/Nothing.js","pages/User.js","components/SignUpForm.js","pages/UserNew.js","components/ChatRow.js","pages/UserChats.js","components/Message.js","components/Chat.js","pages/UserChat.js","components/ItemRow.js","pages/Donor.js","pages/DonorNew.js","pages/DonorItemNew.js","pages/DonorItemChats.js","pages/DonorChat.js","pages/Error.js","App.js","serviceWorker.js","index.js"],"names":["Home","react_default","a","createElement","className","Link","to","Component","API_URL","CATEGORIES","CategoryFilter","_this$props","this","props","toggle","isActive","onChange","categories","concat","cats","map","cat","key","name","type","checked","includes","charAt","toUpperCase","slice","aria-label","onClick","ItemsContainer","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","modalActive","message","picIndex","nextImage","bind","assertThisInitialized","toggleModal","onMessageChange","ask","blacklist","_this2","setState","_ref","pictures","length","_ref2","e","target","value","_this3","axios","post","id","localStorage","getItem","itemId","_id","then","next","catch","history","push","_this4","console","log","description","_this$state","src","alt","withRouter","index","items","nextPage","item","ItemCard","assign","Nothing","User","isLoaded","range","location","filterActive","page","toggleFilter","onCategoryChange","changeRange","getItems","_e$target","i","indexOf","splice","_ref3","_ref4","get","params","res","data","_this5","navigator","geolocation","getCurrentPosition","_ref5","coords","longitude","latitude","_this$state2","components_CategoryFilter","components_ItemsContainer","components_Nothing","SignUpForm","email","firstName","lastName","handleInputChange","onSubmit","defineProperty","preventDefault","setItem","placeholder","required","UserNew","components_SignUpForm","ChatRow","itemName","lastMessage","moment","timestamp","fromNow","chats","chat","components_ChatRow","Message","sender_type","user","donor","nametag","box","Chat","isConnected","send","unavailable","socketConnect","_messageObj","messageObj","Date","now","socket","JSON","stringify","objectSpread","item_id","userId","WebSocket","onopen","onmessage","event","parse","messages","style","maxHeight","overflowY","msg","components_Message","DonorChat","components_Chat","match","ItemRow","isAvailable","available","count","Donor","components_ItemRow","DonorNew","DonorItemNew","category","onFileChange","files","_loop","f","v","reader","FileReader","onload","result","readAsDataURL","_ret","encodeURIComponent","results","Error","_res$data$results$0$g","geometry","lat","lng","accept","DonorItemChats","UserItems","App","Switch","Route","exact","path","component","UserChats","UserChat","Boolean","window","hostname","ReactDOM","render","BrowserRouter","src_App","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.855b40f8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nclass Home extends Component {\n  render() {\n    return (\n      <div className='has-text-centered'>\n        <h4 className='title is-4'>\n          Welcome to Assure!\n        </h4>\n        <Link to='/user/new' className='button is-primary is-rounded'>I'm in need</Link>\n        &nbsp;&nbsp;\n        <Link to='/donor/new' className='button is-rounded'>Let me help</Link>\n        <br /><br />\n        <Link to='/user' className='button is-info is-rounded'>Already signed up?</Link>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","export const API_URL = 'https://api.assure.quantumstack.xyz';\nexport const GOOGLE_API_KEY = 'AIzaSyA9YCBo0o7ve-89itysUh6JT1CSfd9nB1A';\nexport const CATEGORIES = ['food', 'clothes', 'furniture', 'appliances', 'electronics'];\n","import React, { Component } from 'react';\nimport { CATEGORIES as cats} from './../util/constants';\n\nclass CategoryFilter extends Component {\n  render() {\n    const { toggle, isActive, onChange, categories } = this.props;\n    return (\n      <div className={`modal ${isActive ? 'is-active' : ''}`}>\n        <div className='modal-background'></div>\n        <div className='modal-content'>\n          <div className='box'>\n            <h5 className='title is-5'>Categories</h5>\n            {cats.map((cat) => (\n              <div className='control' key={cat}>\n                <label className='checkbox'>\n                  <input name={cat} type='checkbox' checked={categories.includes(cat)} onChange={onChange} />\n                  &nbsp;\n                  {cat.charAt(0).toUpperCase() + cat.slice(1)}\n                </label>\n              </div>\n            ))}\n          </div>\n        </div>\n        <button className='modal-close is-large' aria-label='close' onClick={toggle}></button>\n      </div>\n    );\n  }\n}\n\nexport default CategoryFilter;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { API_URL } from './../util/constants';\nimport axios from 'axios';\n\nclass ItemsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalActive: false,\n      message: '',\n      picIndex: 0,\n    };\n    this.nextImage = this.nextImage.bind(this);\n    this.toggleModal = this.toggleModal.bind(this);\n    this.onMessageChange = this.onMessageChange.bind(this);\n    this.ask = this.ask.bind(this);\n    this.blacklist = this.blacklist.bind(this);\n  }\n\n  nextImage() {\n    this.setState(({ picIndex }) => {\n      return { picIndex: picIndex === this.props.pictures.length ? 0 : picIndex + 1 };\n    })\n  }\n\n  toggleModal() {\n    this.setState(({ modalActive }) => ({ modalActive: !modalActive }));\n  }\n\n  onMessageChange(e) {\n    this.setState({ message: e.target.value });\n  }\n\n  ask() {\n    const { message } = this.state;\n    if (message) {\n      this.toggleModal();\n      axios.post(`${API_URL}/user/ask`, {\n        id: localStorage.getItem('user_id'),\n        itemId: this.props._id,\n        message,\n      }).then(this.props.next).catch(() => this.props.history.push('/error'));\n    }\n  }\n\n  blacklist() {\n    console.log('hello');\n    axios.post(`${API_URL}/user/blacklist`, {\n      id: localStorage.getItem('user_id'),\n      itemId: this.props._id,\n    }).then(this.props.next).catch(() => this.props.history.push('/error'));\n  }\n\n  render() {\n    const { name, description, pictures, next } = this.props;\n    const { modalActive, picIndex } = this.state;\n    return (\n      <div>\n        <div className='box'>\n          <h4 className='title is-4'>{name}</h4>\n          <h6 className='subtitle is-6'>{description}</h6>\n          <figure className='media-left' >\n            <p className='image'>\n              <img src={API_URL + pictures[picIndex].slice(6)} alt='' />\n            </p>\n          </figure>\n          <br />\n          <div className='field is-grouped is-grouped-centered'>\n            <p className='control'>\n              <button className='button is-rounded' onClick={this.toggleModal}>\n                <span className='icon is-small'>\n                  <i className='fas fa-heart'></i>\n                </span>\n              </button>\n            </p>\n            <p className='control'>\n              <button className='button is-rounded' onClick={this.blacklist}>\n                <span className='icon is-small'>\n                  <i className='fas fa-times'></i>\n                </span>\n              </button>\n            </p>\n            <p className='control'>\n              <button className='button is-rounded' onClick={next}>\n                <span className='icon is-small'>\n                  <i className='fas fa-arrow-right'></i>\n                </span>\n              </button>\n            </p>\n          </div>\n        </div>\n        <div className={`modal ${modalActive ? 'is-active' : ''}`}>\n          <div className='modal-background'></div>\n          <div className='modal-content'>\n            <div className='box'>\n              <h5 className='title is-5'>Ask for {name}</h5>\n              <div className='field'>\n                <label className='label'>Message to donor</label>\n                <div className='control'>\n                  <textarea className='textarea' onChange={this.onMessageChange}></textarea>\n                </div>\n                <p className='help'>Include informaton about availability and location.</p>\n              </div>\n              <div className='field is-grouped'>\n                <div className='control'>\n                  <button className='button is-link' onClick={this.ask}>Send</button>\n                </div>\n                <div className='control'>\n                  <button className='button is-text' onClick={this.toggleModal}>Cancel</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ItemsContainer);\n","import React, { Component } from 'react';\nimport ItemCard from './ItemCard';\n\nclass ItemsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      index: 0,\n    };\n    this.next = this.next.bind(this);\n  }\n\n  next() {\n    if (this.state.index === this.props.items.length - 1) this.props.nextPage();\n    else this.setState(({ index }) => ({ index: index + 1 }));\n  }\n\n  render() {\n    const { items } = this.props;\n    const item = items[this.state.index];\n    if (item) return <ItemCard {...item} next={this.next} />;\n    return null;\n  }\n}\n\nexport default ItemsContainer;\n","import React, { Component } from 'react';\n\nclass Nothing extends Component {\n  render() {\n    return (\n      <div className='message is-danger'>\n        <div className='message-body'>\n          <span>There's nothing here</span>\n          &nbsp;\n          <span className='icon is-small'>\n            <i className='fas fa-frown'></i>\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Nothing;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CategoryFilter from './../components/CategoryFilter';\nimport ItemsContainer from './../components/ItemsContainer';\nimport Nothing from './../components/Nothing';\nimport axios from 'axios';\nimport { API_URL, CATEGORIES } from './../util/constants';\n\nclass User extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      items: [],\n      categories: CATEGORIES.slice(0),\n      range: 5,\n      location: null,\n      filterActive: false,\n      page: 1,\n    };\n    this.toggleFilter = this.toggleFilter.bind(this);\n    this.onCategoryChange = this.onCategoryChange.bind(this);\n    this.changeRange = this.changeRange.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.getItems = this.getItems.bind(this);\n  }\n\n  toggleFilter() {\n    this.setState(({ filterActive }) => ({\n      filterActive: !filterActive\n    }), () => {\n      if (!this.state.filterActive) this.getItems();\n    });\n  }\n\n  onCategoryChange(e) {\n    const { name, checked } = e.target;\n    this.setState(({ categories }) => {\n      if (checked) {\n        categories.push(name);\n      } else {\n        const i = this.state.categories.indexOf(name);\n        categories.splice(i, 1);\n      }\n      return { categories };\n    });\n  }\n\n  changeRange() {\n    this.setState(({ range }) => ({ range: range % 25 + 5 }), this.getItems);\n  }\n\n  nextPage() {\n    this.setState(({ page }) => ({ page: page + 1 }), this.getItems);\n  }\n\n  getItems() {\n    const { categories, range, location, page } = this.state;\n    axios.get(`${API_URL}/user/items`, {\n      params: {\n        id: localStorage.getItem('user_id'),\n        range,\n        categories,\n        location,\n        page,\n      }\n    }).then((res) => this.setState({ isLoaded: true, items: res.data }))\n    .catch(() => this.setState({ isLoaded: true }));\n  }\n\n  componentDidMount() {\n    navigator.geolocation.getCurrentPosition(({ coords }) => {\n      this.setState({\n        location: [coords.longitude, coords.latitude]\n      }, this.getItems);\n    });\n  }\n\n  render() {\n    const { isLoaded, items, categories, range, filterActive } = this.state;\n    return (\n      <div className='columns'>\n        <div className='column is-6 is-offset-3'>\n          <CategoryFilter toggle={this.toggleFilter} isActive={filterActive} onChange={this.onCategoryChange} categories={categories} />\n          <div className='field is-grouped'>\n            <p className='control is-expanded'>\n              <button className='button is-rounded is-fullwidth' onClick={this.toggleFilter}>Filter categories</button>\n            </p>\n            <p className='control is-expanded'>\n              <button className='button is-rounded is-fullwidth' onClick={this.changeRange}>Travel up to {range} mi</button>\n            </p>\n            <p className='control'>\n              <Link to='/user/chats' className='button is-info is-rounded'>\n                <span className='icon is-small'>\n                  <i className='fas fa-comments'></i>\n                </span>\n              </Link>\n            </p>\n          </div>\n          {!isLoaded && <div>Loading...</div>}\n          <ItemsContainer items={items} nextPage={this.nextPage} />\n          {isLoaded && !items.length && <Nothing />}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default User;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_URL } from './../util/constants';\n\nclass SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      firstName: '',\n      lastName: '',\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  handleInputChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({ [name]: value });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const { type } = this.props;\n    // TODO: actual authentication\n    axios.post(`${API_URL}/${type}/new`, this.state)\n    .then((res) => {\n      localStorage.setItem(`${type}_id`, this.state.email);\n      this.props.history.push(`/${type}`);\n    }).catch(() => this.props.history.push('/error'));\n  }\n\n  render() {\n    return (\n      <div className='columns'>\n        <div className='column is-4 is-offset-4'>\n          <form onSubmit={this.onSubmit}>\n            <div className='field'>\n              <label className='label'>Email</label>\n              <div className='control'>\n                <input className='input' name='email' type='text' placeholder='janedoe@example.com' onChange={this.handleInputChange} required />\n              </div>\n            </div>\n            <div className='field'>\n              <label className='label'>First Name</label>\n              <div className='control'>\n                <input className='input' name='firstName' type='text' placeholder='Jane' onChange={this.handleInputChange} required />\n              </div>\n            </div>\n            <div className='field'>\n              <label className='label'>Last Name</label>\n              <div className='control'>\n                <input className='input' name='lastName' type='text' placeholder='Doe' onChange={this.handleInputChange} required />\n              </div>\n            </div>\n            <div className='field is-grouped'>\n              <div className='control'>\n                <button className='button is-link'>Submit</button>\n              </div>\n              <div className='control'>\n                <Link to='/' className='button is-text'>Cancel</Link>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignUpForm;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SignUpForm from './../components/SignUpForm';\n\nclass UserNew extends Component {\n  render() {\n    return (<SignUpForm type='user' history={this.props.history} />);\n  }\n}\n\nexport default withRouter(UserNew);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nclass ChatRow extends Component {\n  render() {\n    const { _id, itemName, firstName, lastMessage, type } = this.props;\n    return (\n      <Link to={`/${type}/chat/${_id}`} className='media'>\n        <div className='media-content'>\n          <div className='content'>\n            {itemName &&\n              <span className='title is-5'>{itemName}</span>\n            }\n            <p>\n              <small>{moment(lastMessage.timestamp).fromNow()}</small>\n              &nbsp;\n              <span>{lastMessage.message}</span>\n            </p>\n          </div>\n        </div>\n        <div className='media-right'>\n          <span className='tag is-large is-rounded'>{firstName}</span>\n        </div>\n      </Link>\n    );\n  }\n}\n\nexport default ChatRow;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ChatRow from './../components/ChatRow';\nimport Nothing from './../components/Nothing';\nimport axios from 'axios';\nimport { API_URL } from './../util/constants';\n\nclass User extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      chats: [],\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${API_URL}/user/chats`, {\n      params: {\n        id: localStorage.getItem('user_id'),\n      },\n    }).then((res) => this.setState({ isLoaded: true, chats: res.data }))\n    .catch(() => this.setState({ isLoaded: true }));\n  }\n\n  render() {\n    const { isLoaded, chats } = this.state;\n    return (\n      <div className='columns'>\n        <div className='column is-6 is-offset-3'>\n          <Link to='/user' className='is-pulled-left button is-rounded'>\n            <span className='icon is-small'>\n              <i className='fas fa-arrow-left'></i>\n            </span>\n          </Link>\n       \t\t<h4 className='title is-4 has-text-centered'>Messages</h4>\n\n          {!isLoaded && <div>Loading...</div>}\n          {chats.map(chat => (\n            <ChatRow {...chat} key={chat._id} type='user' />\n          ))}\n\t        {isLoaded && !chats.length && <Nothing />}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default User;\n","import React, { Component } from 'react';\nimport moment from 'moment';\n\nclass Message extends Component {\n  render() {\n    const { timestamp, message, sender_type, type, user, donor } = this.props;\n    const nametag = (\n      <p className='control'>\n        <span className={`tag is-rounded is-${sender_type === 'donor' ? 'info' : 'success'}`}>\n          {(sender_type === 'donor' ? donor : user)[0].firstName.charAt(0).toUpperCase()}\n        </span>\n      </p>\n    );\n    const box = (\n      <p className='control'>\n        <span className='tag is-medium'>\n          {message}\n        </span>\n        <span className='help'>{moment(timestamp).fromNow()}</span>\n      </p>\n    );\n    return sender_type === type ? (\n      <div className='field is-grouped is-grouped-right'>\n        {box}\n        {nametag}\n      </div>\n    ) : (\n      <div className='field is-grouped'>\n        {nametag}\n        {box}\n      </div>\n    );\n  }\n}\n\nexport default Message;\n","import React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport Message from './Message';\nimport { API_URL } from './../util/constants';\nimport axios from 'axios';\n\nclass Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      chat: null,\n      message: '',\n      isConnected: false,\n    };\n    this.onMessageChange = this.onMessageChange.bind(this);\n    this.send = this.send.bind(this);\n    this.unavailable = this.unavailable.bind(this);\n    this.socketConnect = this.socketConnect.bind(this);\n  }\n\n  onMessageChange(e) {\n    this.setState({ message: e.target.value });\n  }\n\n  send() {\n    const { message } = this.state;\n    if (message) {\n      const { type } = this.props;\n      const messageObj = {\n        message,\n        [`${type}_id`]: localStorage.getItem(`${type}_id`),\n        timestamp: Date.now(),\n      };\n      this.socket.send(JSON.stringify({\n        id: this.state.chat._id,\n        ...messageObj,\n      }));\n    }\n  }\n\n  unavailable() {\n    axios.post(`${API_URL}/donor/item/unavailable`, {\n      id: localStorage.getItem('donor_id'),\n      itemId: this.state.chat.item_id,\n      userId: this.state.chat.user[0]._id,\n    }).then(() => this.props.history.push('/donor'))\n    .catch(() => this.props.history.push('/error'));\n  }\n\n  socketConnect() {\n    this.socket = new WebSocket('ws://localhost:40510/', \"protocolOne\");\n    this.socket.onopen = () => this.setState({ isConnected: true });\n    this.socket.onmessage = (event) => {\n      const message = JSON.parse(event.data);\n      if (message.id === this.state.chat._id) {\n        this.setState(({ chat }) => {\n          chat.messages.push(message);\n          return { chat, message: '' };\n        });\n      }\n    }\n  }\n\n  componentDidMount() {\n    axios.get(`${API_URL}/chat`, {\n      params: {\n        id: this.props.id,\n      }\n    }).then((res) => {\n      this.setState({ isLoaded: true, chat: res.data });\n      this.socketConnect();\n    }).catch(() => this.props.history.push('/error'));\n  }\n\n  render() {\n    const { type } = this.props;\n    const { isLoaded, chat, message, isConnected } = this.state;\n    if (!isLoaded) return <div className='has-text-centered'>Loading...</div>\n    return (\n      <div className='columns'>\n        <div className='column is-4 is-offset-4'>\n          {type === 'donor' &&\n            <div>\n              <Link to={`/donor/item/${chat.item_id}`} className='is-pulled-left button is-rounded'>\n                <span className='icon is-small'>\n                  <i className='fas fa-arrow-left'></i>\n                </span>\n              </Link>\n              <button className='is-pulled-right button is-rounded' onClick={this.unavailable}>\n                <span className='icon is-small'>\n                  <i className='fas fa-check'></i>\n                </span>\n              </button>\n              <h4 className='title is-4 has-text-centered'>Talking to {chat.user[0].firstName}</h4>\n            </div>\n          }\n          {type === 'user' &&\n            <div>\n              <Link to={`/user/chats`} className='is-pulled-left button is-rounded'>\n                <span className='icon is-small'>\n                  <i className='fas fa-arrow-left'></i>\n                </span>\n              </Link>\n              <h4 className='title is-4 has-text-centered'>Talking to {chat.donor[0].firstName}</h4>\n            </div>\n          }\n          <br />\n\n          <div style={{maxHeight: '80%', overflowY: 'scroll'}}>\n            {chat.messages.map((msg, i) => (\n              <Message key={i} {...msg} type={type} user={chat.user} donor={chat.donor} />\n            ))}\n          </div>\n          <br />\n          <div className='field has-addons'>\n              <div className='control is-expanded'>\n                <input className='input' type='text' value={message} placeholder='Type a message' onChange={this.onMessageChange} required />\n              </div>\n              <div className='control'>\n                <button className='button is-info' onClick={this.send}>\n                  <span className='icon is-small'>\n                    <i className='fas fa-paper-plane'></i>\n                  </span>\n                </button>\n              </div>\n          </div>\n          {!isConnected && <p className='help is-danger'>Waiting to connect...</p>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Chat);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Chat from './../components/Chat';\n\nclass DonorChat extends Component {\n  render() {\n    return <Chat id={this.props.match.params.id} type='user' />\n  }\n}\n\nexport default withRouter(DonorChat);\n","import React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { API_URL } from './../util/constants';\nimport axios from 'axios';\n\nclass ItemRow extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAvailable: this.props.available,\n    }\n    this.unavailable = this.unavailable.bind(this);\n  }\n\n  unavailable() {\n    axios.post(`${API_URL}/donor/item/unavailable`, {\n      id: localStorage.getItem('donor_id'),\n      itemId: this.props._id,\n    }).then(() => this.setState({ isAvailable: false }))\n    .catch(() => this.props.history.push('/error'));\n  }\n\n  render() {\n    const { _id, name, description, pictures, count } = this.props;\n    const { isAvailable } = this.state;\n    if (!isAvailable) return null;\n    return (\n      <article className='media'>\n        {pictures.length > 0 &&\n          <figure className='media-left'>\n            <p className='image is-64x64'>\n              <img src={API_URL + pictures[0].slice(6)} alt='' />\n            </p>\n          </figure>\n        }\n        <div className='media-content'>\n          <div className='content'>\n            <p>\n              <strong>{name}</strong>\n              <br />\n              {description.slice(0, 100)}\n            </p>\n          </div>\n        </div>\n        <div className='media-right'>\n          {count > 0 &&\n            <Link to={`/donor/item/${_id}`} className='tag is-info'>{count} requests</Link>\n          }\n          &nbsp;\n          <button className='delete' onClick={this.unavailable}></button>\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default withRouter(ItemRow);\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport ItemRow from './../components/ItemRow';\nimport Nothing from './../components/Nothing';\nimport axios from 'axios';\nimport { API_URL } from './../util/constants'\n\nclass Donor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoaded: false,\n\t\t\titems: [],\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\taxios.get(`${API_URL}/donor/items`, {\n\t\t\tparams: {\n\t\t\t\tid: localStorage.getItem('donor_id'),\n\t\t\t},\n\t\t}).then((res) => this.setState({ isLoaded: true, items: res.data }))\n\t\t.catch(() => this.setState({ isLoaded: true }));\n\t}\n\n  render() {\n  \tconst { isLoaded, items } = this.state;\n    return (\n    \t<div className='columns'>\n    \t  <div className='column is-4 is-offset-4'>\n\t    \t  <Link to='/donor/item/new' className='is-pulled-left button is-rounded'>\n\t    \t    <span className='icon is-small'>\n\t    \t      <i className='fas fa-plus'></i>\n\t    \t    </span>\n\t    \t  </Link>\n    \t  \t<h4 className='title is-4 has-text-centered'>My items</h4>\n\n\t\t      {!isLoaded && <div>Loading...</div>}\n\t\t      {items.map(item => (\n\t\t      \t<ItemRow {...item} key={item._id} />\n\t      \t))}\n\t      \t{isLoaded && !items.length && <Nothing />}\n\t      </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Donor);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SignUpForm from './../components/SignUpForm';\n\nclass DonorNew extends Component {\n  render() {\n    return (<SignUpForm type='donor' history={this.props.history} />);\n  }\n}\n\nexport default withRouter(DonorNew);\n","import React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_URL, GOOGLE_API_KEY, CATEGORIES } from './../util/constants';\n\nclass DonorItemNew extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      location: '',\n      lastName: '',\n      category: CATEGORIES[0],\n      pictures: []\n    };\n    this.onFileChange = this.onFileChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onFileChange(e) {\n    const files = e.target.files;\n    for (let i = 0; i < files.length; i++) {\n      const f = files[i];\n      if (!f.type.match('image.*')) return;\n\n      const reader = new FileReader();\n      reader.onload = ((file) => {\n        return (e) => {\n          this.setState(({ pictures }) => {\n            pictures.push({\n              type: f.type,\n              data: e.target.result\n            });\n            return { pictures };\n          });\n        };\n      })(f);\n\n      reader.readAsDataURL(f);\n    }\n  }\n\n  handleInputChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({ [name]: value });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const { location } = this.state;\n    axios.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(location)}&key=${GOOGLE_API_KEY}`)\n    .then((res) => {\n      if (res.data && res.data.results && res.data.results.length > 0) {\n        const { lat, lng } =res.data.results[0].geometry.location;\n        const coords = [lng, lat];\n        axios.post(`${API_URL}/donor/item/new`, {\n          id: localStorage.getItem('donor_id'),\n          ...this.state,\n          location: coords,\n        }).then((res) => this.props.history.push('/donor'))\n        .catch(() => this.props.history.push('/error'));\n      } else throw new Error('Not found');\n    }).catch(() => {});\n  }\n\n  render() {\n    const { pictures } = this.state;\n    return (\n      <div className='columns'>\n        <div className='column is-4 is-offset-4'>\n          <form onSubmit={this.onSubmit}>\n            <div className='field'>\n              <label className='label'>Name</label>\n              <div className='control'>\n                <input className='input' name='name' type='text' placeholder='Tinder Gold Subscription' onChange={this.handleInputChange} required />\n              </div>\n            </div>\n            <div className='field'>\n              <label className='label'>Description</label>\n              <div className='control'>\n                <textarea className='textarea' name='description' placeholder='Give some details about the item' onChange={this.handleInputChange}></textarea>\n              </div>\n            </div>\n            <div className='field'>\n              <label className='label'>Location</label>\n              <div className='control'>\n                <input className='input' name='location' type='text' placeholder='123 Amazing St, Pittsburgh, PA' onChange={this.handleInputChange} required />\n              </div>\n            </div>\n            <div className='field'>\n              <label className='label'>Pictures</label>\n              <div className='control'>\n                <div className='file has-name'>\n                  <label className='file-label'>\n                    <input className='file-input' type='file' accept=\"image/*\" name='pictures' onChange={this.onFileChange} />\n                    <span className='file-cta'>\n                      <span className='file-icon'>\n                        <i className='fas fa-upload'></i>\n                      </span>\n                      <span className='file-label'>\n                        Choose a file\n                      </span>\n                    </span>\n                    <span className='file-name'>\n                      {pictures.length} files selected\n                    </span>\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div className='field'>\n              <label className='label'>Category</label>\n              <div className='control'>\n                <div className='select'>\n                  <select name='category' onChange={this.handleInputChange}>\n                    {CATEGORIES.map(cat => (\n                      <option name={cat} key={cat}>{cat.charAt(0).toUpperCase() + cat.slice(1)}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className='field is-grouped'>\n              <div className='control'>\n                <button className='button is-link'>Submit</button>\n              </div>\n              <div className='control'>\n                <Link to='/donor' className='button is-text'>Cancel</Link>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(DonorItemNew);\n","import React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport ChatRow from './../components/ChatRow';\nimport axios from 'axios';\nimport { API_URL } from './../util/constants';\n\nclass DonorItemChats extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: false,\n      chats: []\n    }\n  }\n\n  componentDidMount() {\n    axios.get(`${API_URL}/donor/item/chats`, {\n      params: {\n        id: localStorage.getItem('donor_id'),\n        itemId: this.props.match.params.id,\n      },\n    }).then((res) => this.setState({ isLoaded: true, chats: res.data }))\n    .catch(() => this.setState({ isLoaded: true }));\n  }\n\n  render() {\n    const { isLoaded, chats } = this.state;\n    return (\n      <div>\n        <Link to='/donor' className='is-pulled-left button is-rounded'>\n          <span className='icon is-small'>\n            <i className='fas fa-arrow-left'></i>\n          </span>\n        </Link>\n        <h4 className='title is-4 has-text-centered'>Messages for item</h4>\n\n        {!isLoaded && <div>Loading...</div>}\n        {chats.map(chat => (\n          <ChatRow {...chat} key={chat._id} type='donor' />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(DonorItemChats);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Chat from './../components/Chat';\n\nclass DonorChat extends Component {\n  render() {\n    return <Chat id={this.props.match.params.id} type='donor' />\n  }\n}\n\nexport default withRouter(DonorChat);\n","import React, { Component } from 'react';\n\nclass UserItems extends Component {\n  render() {\n    return (\n      <div className='has-text-centered has-text-danger'>\n        An error has occurred.\n      </div>\n    );\n  }\n}\n\nexport default UserItems;\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Home from './pages/Home';\nimport User from './pages/User';\nimport UserNew from './pages/UserNew';\nimport UserChats from './pages/UserChats';\nimport UserChat from './pages/UserChat';\nimport Donor from './pages/Donor';\nimport DonorNew from './pages/DonorNew';\nimport DonorItemNew from './pages/DonorItemNew';\nimport DonorItemChats from './pages/DonorItemChats';\nimport DonorChat from './pages/DonorChat';\nimport Error from './pages/Error';\nimport './../node_modules/bulma/css/bulma.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <section className='hero is-light is-bold is-fullheight'>\n        <div className='hero-body'>\n          <div className='container'>\n            <Switch>\n              <Route exact path='/' component={Home}/>\n              <Route exact path='/user' component={User} />\n              <Route path='/user/new' component={UserNew} />\n              <Route path='/user/chats' component={UserChats} />\n              <Route path='/user/chat/:id' component={UserChat} />\n              <Route exact path='/donor' component={Donor} />\n              <Route path='/donor/new' component={DonorNew} />\n              <Route path='/donor/item/new' component={DonorItemNew} />\n              <Route path='/donor/item/:id' component={DonorItemChats} />\n              <Route path='/donor/chat/:id' component={DonorChat} />\n              <Route component={Error} />\n            </Switch>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<BrowserRouter>\n    <App/>\n  </BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}